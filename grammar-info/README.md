# 문법 정보 데이터베이스 구축

본 프로젝트의 문법 정보는 국립국어원의 [한국어교수학습샘터](https://kcenter.korean.go.kr/kcenter/search/dgrammar.do) 웹 페이지에 공개된 자료를 바탕으로 웹 스크래핑을 통해 수집했습니다. 수집한 데이터는 **연구 목적**으로만 사용하였으며, 깃허브에 업로드하지 않았습니다.

LLM이 1차적으로 문장을 교정한 뒤 교정한 문법 항목을 반환하면, 이를 기반으로 문법 정보 데이터베이스에서 **관련 문법의 의미, 용례, 형태 정보, 제약 조건** 등을 조회합니다. 이렇게 검색된 데이터는 교정된 문장과 함께 LLM에게 전달되어 **최종 피드백 생성에 활용**됩니다.

<br>

## 데이터베이스 테이블 구조

문법 항목들은 다음과 같은 스키마를 가진 `grammar_items` 테이블에 저장됩니다:

| 컬럼명        | 설명               |
|--------------|-------------------|
| **id**          | 기본 키(문법 항목 고유 ID) |
| **headword**    | 문법 표제어 |
| **pos**         | 품사 정보 |
| **topic**       | TOPIC 등급 |
| **meaning**     | 문법 의미 설명 |
| **form_info**   | 활용·형태 정보 |
| **constraints** | 사용 제약 조건 |

<br>

### 검색 방식 (trigram 기반)

문법 매칭은 입력된 표현을 **trigram(3-gram)** 단위로 분해한 뒤,  
다음 컬럼을 기준으로 검색합니다:

- **headword**
- **form_info**

즉, 표제어 또는 형태 정보 내부에 포함된 **3글자 단위 문자열**을 기준으로 문법 후보를 조회합니다.  

PostgreSQL의 `pg_trgm` Extension을 활용하여 검색을 수행하며,  
정확한 표제어를 알지 못하더라도 **형태적으로 가까운 문법 항목을 유연하게 탐색**할 수 있도록 설계했습니다.